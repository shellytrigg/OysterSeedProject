{
    "contents" : "library(dplyr)\nlibrary(tidyr)\n\n#read in data frame\ndata <- read.csv(\"~/Documents/GitHub/OysterSeedProject/analysis/kmeans/Silo3_and_9/silo3and9.csv\")\n#create silo column\ndata$silo <- substr(data$Protein,1,1)\n#change class of protein column from factor to character\ndata$Protein <- as.character(unlist(data$Protein))\n#remove the silo identifier from the protein names\ndata$Protein <- substr(data$Protein, 3, nchar(data$Protein))\n#Change table orientation so that all abundances are listed in one column \n#and time points are listed down a column\n#In this command, we only want to apply it to the timepoint columns that \n#have abundance values and keep the protein and silo columns unchanged\n#so we use c(2:9) to select for timepoint columns with abundance values only\ndata <- tidyr::gather(data, \"Time\", \"abundance\", c(2:9))\n#Change the table orientation again so that proteins are listed across the top\n#This command will condense the proteins so that only unique proteins are listed\n#across the top\ndata <- tidyr::spread(data, \"Protein\", \"abundance\")\n#create matrix to pass to ASCA command, excluding the silo and time info\nASCA_X <- as.matrix(data[,-c(1:2)])\n#create dataframe with just silo and time info; \n#this format makes editing the table easier\nASCA_F <- data[,1:2]\n#change silo column class to numeric\nASCA_F$silo <- as.numeric(ASCA_F$silo)\n#change time column class to numeric; exclude the X with the substr command\nASCA_F$Time <- as.numeric(substr(ASCA_F$Time,2,nchar(ASCA_F$Time)))\n#then convert this to a matrix to pass to the ASCA command\nASCA_F<- as.matrix(ASCA_F)\n\n#Run ASCA command\nASCA <- ASCA.Calculate(ASCA_X, ASCA_F, equation.elements = \"1,2,12\", scaling = FALSE)\n#currently this fails because of NAs in the table, I think.\n#Need to find a way to ignore the NAs if possible",
    "created" : 1538190747520.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3959946534",
    "id" : "AE82F5FF",
    "lastKnownWriteTime" : 1538195460,
    "path" : "~/Desktop/test/ASCA_test.R",
    "project_path" : "ASCA_test.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}